# 第一章和第二章: K8s核心概念和集群搭建

## 2.新建一个命名空间，创建一个deployment并暴露Service  

- 命名空间： aliang-cka
- 名称： web
- 镜像： nginx  

### 答案:

```bash
# 新建一个命名空间
kubectl create namespace aliang-cka

# 使用kubens切换到aliang-cka这个命名空间
kubens aliang-cka

# 新建deployment
kubectl create deployment web --image=nginx

# 查看web这个deployment创建成功没有
[master root ~]# kubectl get deployments.apps web 
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
web    1/1     1            1           7m23s
[master root ~]# kubectl get pod
NAME                  READY   STATUS    RESTARTS   AGE
web-96d5df5c8-pj8cg   1/1     Running   0          7m30s
```

## 3.列出命名空间下指定标签pod

命名空间: kube-system

标签: k8s-app=kube-dns

### 答案

```bash
# 查询pod,-n=kube-system,-l=k8s-app=kube-dns
[master root ~]# kubectl get po -n kube-system -l k8s-app=kube-dns
NAME                       READY   STATUS    RESTARTS      AGE
coredns-78fcd69978-8kjtl   1/1     Running   1 (10d ago)   12d
coredns-78fcd69978-jkxkd   1/1     Running   1 (10d ago)   12d

# 查看完整标签
[master root ~]# kubectl get po -n kube-system -l k8s-app=kube-dns --show-labels 
NAME                       READY   STATUS    RESTARTS      AGE   LABELS
coredns-78fcd69978-8kjtl   1/1     Running   1 (10d ago)   12d   k8s-app=kube-dns,pod-template-hash=78fcd69978
coredns-78fcd69978-jkxkd   1/1     Running   1 (10d ago)   12d   k8s-app=kube-dns,pod-template-hash=78fcd69978
```

